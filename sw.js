const CACHE_NAME="meal-cache-v1",PRECACHE_URLS=["/","/index.html","/form.html","/details.html","/style.css","/bundle.js","/manifest.json","landscape-placeholder.svg"];self.addEventListener("install",(e=>{console.log("[Service Worker] Installing service worker..."),e.waitUntil(caches.open(CACHE_NAME).then((e=>e.addAll(PRECACHE_URLS))).catch((e=>{console.error("[Service Worker] Pre-caching failed:",e)})))})),self.addEventListener("fetch",(e=>{console.log(e.request.url),e.request.url.includes("/details")?e.respondWith(caches.open(CACHE_NAME).then((t=>t.match("/details").then((s=>s||fetch(e.request).then((s=>(t.put(e.request,s.clone()),s)))))))):e.respondWith(caches.open(CACHE_NAME).then((t=>t.match(e.request.url).then((s=>s||fetch(e.request).then((s=>(t.put(e.request,s.clone()),s))))))))}));